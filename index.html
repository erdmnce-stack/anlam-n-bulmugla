<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo YarÄ±ÅŸma (20 Soru)</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-image: url('AdsÄ±z tasarÄ±m (1).png'); /* Resminizin tam adÄ± */
    background-size: cover;
    background-position: center;
    background-attachment: fixed; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        .container { max-width: 750px; margin-top: 40px; }
        .card { border: none; shadow: 0 8px 20px rgba(0,0,0,0.1); border-radius: 20px; overflow: hidden; }
        .hidden { display: none !important; }
        .timer-box { font-size: 1.4rem; font-weight: bold; color: #fff; background: #dc3545; padding: 5px 15px; border-radius: 10px; }
        .option-btn { width: 100%; text-align: left; margin-bottom: 12px; padding: 15px; border: 2px solid #e9ecef; border-radius: 12px; transition: all 0.2s; background: #fff; color: #333; }
        .option-btn:hover { background-color: #f8f9fa; border-color: #0d6efd; color: #0d6efd; transform: translateY(-2px); }
        .option-btn:active { background-color: #0d6efd; color: white; }
        .header-bg { background: linear-gradient(135deg, #8B0000 0%, #A0522D 100%); color: white; padding: 40px 20px; text-align: center; }
        #admin-panel { margin-top: 50px; border-top: 2px dashed #ccc; padding-top: 20px; margin-bottom: 50px;}
    </style>
</head>
<body>

<div class="container mb-5">
    
    <div id="login-screen" class="card">
        <div class="header-bg">
            <h1>MuÄŸla Ä°l Milli EÄŸitim MÃ¼dÃ¼rlÃ¼ÄŸÃ¼</h1>
            <p class="mb-0 opacity-75">Dilimizin Zenginlikleri Projesi - AnlamÄ±nÄ± Bul YarÄ±ÅŸmasÄ±</p>
        </div>
        <div class="p-5">
            <form id="user-form">
                <div class="mb-3">
                    <label class="form-label text-muted">AdÄ±nÄ±z SoyadÄ±nÄ±z</label>
                    <input type="text" id="username" class="form-control form-control-lg" required>
                </div>
                <div class="mb-3">
                    <label class="form-label text-muted">Okulunuzun AdÄ±</label>
                    <input type="text" id="useremail" class="form-control form-control-lg" required>
                </div>
                <div class="mb-3">
                    <label class="form-label text-muted">Ä°lÃ§e AdÄ±</label>
                    <input type="text" id="userphone" class="form-control form-control-lg" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label text-muted">T.C. Kimlik NumarasÄ± (11 Hane)</label>
                    <input type="text" id="user-tckn" class="form-control form-control-lg" 
                           maxlength="11" pattern="[0-9]{11}" 
                           title="T.C. Kimlik NumarasÄ± 11 rakamdan oluÅŸmalÄ±dÄ±r." required>
                </div>
                <button type="submit" class="btn btn-primary btn-lg w-100 py-3 fw-bold mt-2">YarÄ±ÅŸmaya BaÅŸla</button>
            </form>
        </div>
    </div>

    <div id="quiz-screen" class="card p-4 hidden">
        <div class="d-flex justify-content-between align-items-center mb-4 border-bottom pb-3">
            <h5 class="m-0 text-primary" id="question-counter">Soru 1 / 20</h5>
            <div class="timer-box" id="timer">00:00</div>
        </div>
        
        <h4 id="question-text" class="mb-4 lh-base fw-bold">Soru metni yÃ¼kleniyor...</h4>
        
        <div id="options-container">
            </div>
    </div>

    <div id="result-screen" class="card p-5 text-center hidden">
        <div class="mb-4">
            <img src="https://cdn-icons-png.flaticon.com/512/190/190411.png" width="80" alt="Trophy">
        </div>
        <h2 class="fw-bold mb-3">YarÄ±ÅŸma TamamlandÄ±!</h2>
        
        <div class="row justify-content-center mb-4">
            <div class="col-6">
                <div class="bg-light p-3 rounded">
                    <div class="text-muted small">TOPLAM PUAN</div>
                    <div class="display-6 fw-bold text-success" id="final-score">0</div>
                </div>
            </div>
            <div class="col-6">
                <div class="bg-light p-3 rounded">
                    <div class="text-muted small">TOPLAM SÃœRE</div>
                    <div class="display-6 fw-bold text-dark" id="final-time">0:00</div>
                </div>
            </div>
        </div>

        <h5 class="text-start border-bottom pb-2 mt-4">ğŸ† Liderlik Tablosu (Ä°lk 10)</h5>
        <div class="table-responsive">
            <table class="table table-hover text-start align-middle">
                <thead class="table-light">
                    <tr><th>#</th><th>Ä°sim</th><th>Puan</th><th>SÃ¼re</th></tr>
                </thead>
                <tbody id="leaderboard-body">
                    <tr><td colspan="4" class="text-center">YÃ¼kleniyor...</td></tr>
                </tbody>
            </table>
        </div>
        <p class="text-muted small mt-3">SonuÃ§larÄ±nÄ±z sisteme kaydedilmiÅŸtir. Pencereyi kapatabilirsiniz.</p>
    </div>

    <div class="text-center mt-4">
        <button class="btn btn-link text-decoration-none text-muted" onclick="toggleAdmin()">YÃ¶netici GiriÅŸi ğŸ”’</button>
    </div>

    <div id="admin-panel" class="hidden container bg-white p-4 rounded shadow-sm">
        <h3>YÃ¶netici Paneli</h3>
        <div class="input-group mb-3 w-50">
            <input type="password" id="admin-pass" class="form-control" placeholder="Admin Åifresi">
            <button onclick="checkAdmin()" class="btn btn-dark">GiriÅŸ Yap</button>
        </div>
        
        <div id="admin-data" class="hidden">
            <div class="d-flex justify-content-between align-items-center mb-3">
                <h5>TÃ¼m KatÄ±lÄ±mcÄ± Listesi</h5>
                <button onclick="exportTableToCSV('yarisma-sonuclari.csv')" class="btn btn-success btn-sm">Excel Ä°ndir (CSV)</button>
            </div>
            <div class="table-responsive" style="max-height: 400px; overflow: auto;">
                <table class="table table-bordered table-striped text-small" id="full-table">
                    <thead><tr><th>Tarih</th><th>Ä°sim</th><th>Okul</th><th>Ä°lÃ§e</th><th>TCKN</th><th>Puan</th><th>SÃ¼re(sn)</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script type="module">document.addEventListener('contextmenu',event=>event.preventDefault());document.onkeydown=function(e){if(e.keyCode==123){return false;}if(e.ctrlKey&&e.shiftKey&&e.keyCode=='I'.charCodeAt(0)){return false;}if(e.ctrlKey&&e.shiftKey&&e.keyCode=='C'.charCodeAt(0)){return false;}if(e.ctrlKey&&e.keyCode=='U'.charCodeAt(0)){return false;}};import{initializeApp}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";import{getFirestore,collection,addDoc,getDocs,query,orderBy,limit,where}from"https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";const firebaseConfig={apiKey:"AIzaSyARDPDRIO6YUO2NogwOfiCzILmupppbzI4",authDomain:"anlamini-bul-mugla.firebaseapp.com",projectId:"anlamini-bul-mugla",storageBucket:"anlamini-bul-mugla.firebasestorage.app",messagingSenderId:"71609064976",appId:"1:71609064976:web:f6492705fbe91e09c97495"};const app=initializeApp(firebaseConfig);const db=getFirestore(app);const allQuestions=[{q:"'Åirket, inovasyon Ã§alÄ±ÅŸmalarÄ±na bÃ¼yÃ¼k bÃ¼tÃ§e ayÄ±rdÄ±.' cÃ¼mlesinde geÃ§en 'inovasyon' sÃ¶zcÃ¼ÄŸÃ¼nÃ¼n TDK karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["YenileÅŸim","GeliÅŸim","Ãœretim","YatÄ±rÄ±m"]},{q:"'YazarÄ±n eserlerinde ironi Ã¶nemli bir yer tutar.' cÃ¼mlesindeki 'ironi' sÃ¶zcÃ¼ÄŸÃ¼nÃ¼n anlamÄ± nedir?",a:["GÃ¼lmece","AbartÄ±","HÃ¼zÃ¼n","KaramsarlÄ±k"]},{q:"'Ã‡alÄ±ÅŸmalarÄ±nda daha pragmatik yÃ¶ntemler izlemelisin.' cÃ¼mlesindeki 'pragmatik' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± hangisidir?",a:["YararcÄ±","Duygusal","Geleneksel","Bilimsel"]},{q:"'Ekip arasÄ±ndaki koordinasyon eksikliÄŸi projeyi yavaÅŸlattÄ±.' cÃ¼mlesinde geÃ§en 'koordinasyon' kelimesinim en doÄŸru TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["EÅŸgÃ¼dÃ¼m","Ä°letiÅŸim","YardÄ±mlaÅŸma","ToplantÄ±"]},{q:"'Olaylara Ã§ok pesimist yaklaÅŸÄ±yorsun.' cÃ¼mlesindeki 'pesimist' kelimesinin zÄ±ttÄ± aÅŸaÄŸÄ±dakilerden hangisidir?",a:["Ä°yimser","Karamsar","Hayalperest","GerÃ§ekÃ§i"]},{q:"'Bu bÃ¶lgeye Ã¶zgÃ¼, endemik bitki tÃ¼rleri koruma altÄ±na alÄ±ndÄ±.' cÃ¼mlesindeki 'endemik' kelimesinin anlamÄ± nedir?",a:["Yerel","Yabani","YabancÄ±","Zehirli"]},{q:"'KonuÅŸmacÄ±, konuyu manipÃ¼le ederek seyirciyi etkiledi.' cÃ¼mlesindeki 'manipÃ¼lasyon' kavramÄ±nÄ±n TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["YÃ¶nlendirme","EleÅŸtirme","Onaylama","Reddetme"]},{q:"'Doktor, hastanÄ±n rehabilitasyon sÃ¼recini baÅŸlattÄ±.'cÃ¼mlesinde 'rehabilitasyon' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± hangisidir?",a:["Ä°yileÅŸtirme","Dinlenme","Ä°laÃ§ Tedavisi","Muayene"]},{q:"'Bu konu literatÃ¼rde sÄ±kÃ§a tartÄ±ÅŸÄ±lmaktadÄ±r.' cÃ¼mlesindeki 'literatÃ¼r' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["Alan yazÄ±n","SÃ¶zlÃ¼k","Ansiklopedi","Ãœniversite"]},{q:"'Sempozyuma katÄ±lmak iÃ§in Ankara'ya gitti.' cÃ¼mlesindeki 'sempozyum' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± hangisidir?",a:["Bilgi ÅÃ¶leni","Sergi","ToplantÄ±","YarÄ±ÅŸma"]},{q:"'Bu paradoksun iÃ§inden Ã§Ä±kamÄ±yorum.' cÃ¼mlesinde iÃ§inden Ã§Ä±kÄ±lamayan durumun karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["Ã‡eliÅŸki","BoÅŸluk","Labirent","Sorun"]},{q:"'Bu spesifik bir durum, genele yayamayÄ±z.' cÃ¼mlesindeki 'spesifik' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["Ã–zgÃ¼l","Zor","Yeni","SÄ±radan"]},{q:"'Bu bina ÅŸehrin silÃ¼etini bozuyor.' cÃ¼mlesindeki 'silÃ¼et' kelimenin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir? ",a:["GÃ¶rÃ¼ntÃ¼","GÃ¶lge","YapÄ±","Tarih"]},{q:"'Olaylara rasyonel bir aÃ§Ä±dan bakmalÄ±sÄ±n.' cÃ¼mlesindeki 'rasyonel' kelimenin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± hangisidir?",a:["AkÄ±lcÄ±","Geleneksel","GerÃ§ekÃ§i","Duygusal"]},{q:"'Lansman fiyatlarÄ± ile satÄ±ÅŸa sunuldu.' yerine hangi ifade kullanÄ±lmasÄ± daha uygundur?",a:["TanÄ±tÄ±ma Ã¶zel fiyatlar ile satÄ±ÅŸa sunuldu","Ä°ndirimli fiyatlar ile satÄ±ÅŸa sunuldu","Kampanya fiyatlarÄ± ile satÄ±ÅŸa sunuldu","Liste fiyatlarÄ± ile satÄ±ÅŸa sunuldu"]},{q:"'ToplantÄ±da ortaya atÄ±lan hipotez oldukÃ§a dikkat Ã§ekiciydi.' cÃ¼mlesindeki 'hipotez' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["Ã–nerme","Yasa","Rapor","Deney"]},{q:"'YazarÄ±n biografi kitabÄ± Ã§ok ilgi gÃ¶rdÃ¼.' cÃ¼mlesindeki 'biografi' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["YaÅŸam Ã¶ykÃ¼sÃ¼","AnÄ± defteri","GÃ¼nlÃ¼k","SÃ¶zlÃ¼k"]},{q:"'Matematik Ã¶ÄŸretmeni bir sonraki ders iÃ§in iletki getirmemizi istedi' cÃ¼mlesindeki 'iletki' kelimesi ne anlama gelmektedir?",a:["AÃ§Ä±Ã¶lÃ§er","GÃ¶nye","Pergel","Cetvel"]},{q:"'qwertyuÄ±op' cÃ¼mlesindeki 'fonksiyon' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'asdfghjklÅŸi' cÃ¼mlesindeki 'fonksiyon' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'zxcvbnmÃ¶",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'q2w3e4r5t6y7u8Ä±9o0p' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'12345456778990",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'Fonksiyon grafiÄŸini inceleyerek deÄŸiÅŸimin davranÄ±ÅŸÄ±nÄ± yorumlayabiliriz' cÃ¼mlesindeki 'fonksiyon' kelimesinin TÃ¼rkÃ§e karÅŸÄ±lÄ±ÄŸÄ± nedir?",a:["BaÄŸÄ±ntÄ±","Ã‡izgi","Ã‡izge","Kural"]},{q:"'Bu yerin vibeâ€™Ä± Ã§ok hoÅŸ, insanÄ±n enerjisini yÃ¼kseltiyor.' diyen bir arkadaÅŸÄ±nÄ±z sÃ¶z konusu yer hakkÄ±nda ne anlatmak istemektedir?",a:["Hava","AydÄ±nlatma","Ses","KalabalÄ±k"]}];window.checkTcknAndStart=async userInfo=>{const tckn=userInfo.tckn;if(tckn.length!==11){alert("HATA: T.C. Kimlik NumarasÄ± tam olarak 11 rakamdan oluÅŸmalÄ±dÄ±r.");return false;}if(!/^\d{11}$/.test(tckn)){alert("HATA: T.C. Kimlik NumarasÄ± sadece rakamlardan oluÅŸmalÄ±dÄ±r.");return false;}const q=query(collection(db,"scores"),where("tckn","==",tckn));const snapshot=await getDocs(q);if(!snapshot.empty){alert("HATA: Bu T.C. Kimlik NumarasÄ± ile daha Ã¶nce yarÄ±ÅŸmaya katÄ±lÄ±m saÄŸlanmÄ±ÅŸtÄ±r.");return false;}return true;};let quizQuestions=[];let currentQIndex=0;let score=0;let timerInterval;let totalSeconds=0;let userInfo={};const els={login:document.getElementById('login-screen'),quiz:document.getElementById('quiz-screen'),result:document.getElementById('result-screen'),counter:document.getElementById('question-counter'),qText:document.getElementById('question-text'),opts:document.getElementById('options-container'),timer:document.getElementById('timer'),score:document.getElementById('final-score'),time:document.getElementById('final-time')};document.getElementById('user-form').addEventListener('submit',async e=>{e.preventDefault();userInfo={name:document.getElementById('username').value,email:document.getElementById('useremail').value,phone:document.getElementById('userphone').value,tckn:document.getElementById('user-tckn').value};const isTcknValid=await checkTcknAndStart(userInfo);if(isTcknValid){startQuiz();}});function startQuiz(){els.login.classList.add('hidden');els.quiz.classList.remove('hidden');quizQuestions=[...allQuestions].sort(()=>0.5-Math.random()).slice(0,20);timerInterval=setInterval(()=>{totalSeconds++;const m=Math.floor(totalSeconds/60).toString().padStart(2,'0');const s=(totalSeconds%60).toString().padStart(2,'0');els.timer.innerText=`${m}:${s}`;},1000);loadQuestion();}function loadQuestion(){if(currentQIndex>=quizQuestions.length){endQuiz();return;}const q=quizQuestions[currentQIndex];els.counter.innerText=`Soru ${currentQIndex+1} / ${quizQuestions.length}`;els.qText.innerText=q.q;els.opts.innerHTML='';let options=q.a.map((txt,i)=>({text:txt,isCorrect:i===0}));options.sort(()=>0.5-Math.random());options.forEach(opt=>{const btn=document.createElement('button');btn.className='btn option-btn';btn.innerHTML=`<span>${opt.text}</span>`;btn.onclick=()=>handleAnswer(opt.isCorrect);els.opts.appendChild(btn);});}function handleAnswer(isCorrect){if(isCorrect)score+=5;currentQIndex++;loadQuestion();}async function endQuiz(){clearInterval(timerInterval);els.quiz.classList.add('hidden');els.result.classList.remove('hidden');els.score.innerText=score;const m=Math.floor(totalSeconds/60);const s=totalSeconds%60;els.time.innerText=`${m}dk ${s}sn`;try{await addDoc(collection(db,"scores"),{name:userInfo.name,email:userInfo.email,phone:userInfo.phone,tckn:userInfo.tckn,score:score,time:totalSeconds,date:new Date().toISOString()});getLeaderboard();}catch(err){console.error("KayÄ±t hatasÄ±:",err);alert("Puan kaydedilemedi, internet baÄŸlantÄ±nÄ±zÄ± kontrol edin.");}}async function getLeaderboard(){const q=query(collection(db,"scores"),orderBy("score","desc"),orderBy("time","asc"),limit(10));const snapshot=await getDocs(q);const tbody=document.getElementById('leaderboard-body');tbody.innerHTML='';let rank=1;snapshot.forEach(doc=>{const d=doc.data();tbody.innerHTML+=`<tr><td>${rank++}</td><td>${d.name}</td><td><strong>${d.score}</strong></td><td>${d.time}sn</td></tr>`;});}window.toggleAdmin=()=>document.getElementById('admin-panel').classList.toggle('hidden');window.checkAdmin=async()=>{if(document.getElementById('admin-pass').value==="admin123"){document.getElementById('admin-data').classList.remove('hidden');const snapshot=await getDocs(query(collection(db,"scores"),orderBy("score","desc")));const tbody=document.querySelector('#full-table tbody');tbody.innerHTML='';snapshot.forEach(doc=>{const d=doc.data();tbody.innerHTML+=`<tr><td>${new Date(d.date).toLocaleDateString()}</td><td>${d.name}</td><td>${d.email}</td><td>${d.phone}</td><td>${d.tckn||'N/A'}</td><td>${d.score}</td><td>${d.time}</td></tr>`;});}else{alert("HatalÄ± Åifre!");}}window.exportTableToCSV=filename=>{const rows=document.querySelectorAll("#full-table tr");let csv=[];for(const row of rows){const cols=row.querySelectorAll("td, th");csv.push(Array.from(cols).map(c=>c.innerText).join(","));}const blob=new Blob([csv.join("\n")],{type:"text/csv"});const link=document.createElement("a");link.href=window.URL.createObjectURL(blob);link.download=filename;link.click();}
</script>

</body>

</html>
